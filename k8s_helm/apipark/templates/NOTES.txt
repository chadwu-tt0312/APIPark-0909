1. 外部存取 URL (NodePort 模式):
{{- if contains "NodePort" .Values.apipark.service.type }}
  # 獲取節點 IP
  export NODE_IP=$(kubectl get nodes --namespace {{ .Release.Namespace }} -o jsonpath="{.items[0].status.addresses[0].address}")
  
  # APIPark 管理介面
  echo "APIPark 管理介面: http://$NODE_IP:{{ .Values.apipark.service.nodePort }}"
  
  # MySQL 資料庫 (外部管理用)
  echo "MySQL 資料庫: $NODE_IP:{{ .Values.mysql.service.nodePort }}"
  
  # Grafana 監控介面
  echo "Grafana 監控: http://$NODE_IP:{{ .Values.grafana.service.nodePort }}"
{{- else if contains "LoadBalancer" .Values.apipark.service.type }}
     NOTE: It may take a few minutes for the LoadBalancer IP to be available.
           You can watch the status by running 'kubectl get --namespace {{ .Release.Namespace }} svc -w {{ include "apipark.fullname" . }}'
  echo "LoadBalancer IP will be available shortly"
{{- else if contains "ClusterIP" .Values.apipark.service.type }}
  export POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l "app.kubernetes.io/name={{ include "apipark.name" . }},app.kubernetes.io/instance={{ .Release.Name }}" -o jsonpath="{.items[0].metadata.name}")
  echo "Visit http://127.0.0.1:8080 to use your application"
  kubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 8080:8288
{{- end }}

2. 內部服務連接:
{{- if .Values.mysql.enabled }}
  MySQL: {{ include "apipark.mysql.fullname" . }}:{{ .Values.mysql.service.port }}
{{- end }}
{{- if .Values.redis.enabled }}
  Redis: {{ include "apipark.redis.fullname" . }}:{{ .Values.redis.service.port }}
{{- end }}
{{- if .Values.influxdb.enabled }}
  InfluxDB: {{ include "apipark.influxdb.fullname" . }}:{{ .Values.influxdb.service.port }}
{{- end }}
{{- if .Values.loki.enabled }}
  Loki: {{ include "apipark.loki.fullname" . }}:{{ .Values.loki.service.port }}
{{- end }}
{{- if .Values.grafana.enabled }}
  Grafana: {{ include "apipark.grafana.fullname" . }}:{{ .Values.grafana.service.port }}
{{- end }}
{{- if .Values.nsq.enabled }}
  NSQ: {{ include "apipark.nsq.fullname" . }}:{{ .Values.nsq.service.port }}
{{- end }}
{{- if .Values.apinto.enabled }}
  Apinto Gateway: {{ include "apipark.apinto.fullname" . }}:{{ .Values.apinto.service.port }}
{{- end }}

3. 預設憑證:
  APIPark 管理員密碼: {{ .Values.apipark.env.ADMIN_PASSWORD }}
  MySQL Root 密碼: {{ .Values.mysql.auth.rootPassword }}
  Redis 密碼: {{ .Values.redis.auth.password }}
  InfluxDB 用戶名: {{ .Values.influxdb.auth.username }}
  InfluxDB 密碼: {{ .Values.influxdb.auth.password }}

4. 檢查部署狀態:
  kubectl get pods --namespace {{ .Release.Namespace }} -l app.kubernetes.io/name=apipark
  kubectl get svc --namespace {{ .Release.Namespace }} -l app.kubernetes.io/name=apipark